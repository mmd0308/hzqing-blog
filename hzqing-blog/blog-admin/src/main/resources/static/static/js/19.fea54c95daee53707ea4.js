webpackJsonp([19],{aBIq:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("glla"),n={data:function(){return{list:null,query:"",total:null,listQuery:{page:1,pageSize:10,tagName:""},textMap:{update:"更新",create:"创建"},title:"",dialogStatus:"",dialogFormVisible:!1,dialogRoleFormVisible:!1,form:this.initObj(),rules:{tagName:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:20,message:"长度在3到20个字符",trigger:"blur"}]},tagTypes:[{value:"L",label:"标签"},{value:"C",label:"类别"}]}},created:function(){this.getList()},methods:{initObj:function(){return{id:"",tagName:void 0,enabled:void 0,sort:void 0,note:"",tagType:void 0}},resetTemp:function(){this.form=this.initObj()},queryList:function(){this.listQuery.tagName=this.query,this.getList()},getList:function(){var t=this;Object(l.e)(this.listQuery).then(function(e){t.list=e.data.list,t.total=e.data.total})},cancel:function(t){this.dialogFormVisible=!1,this.$refs[t].resetFields()},handleClose:function(t){this.cancel("form"),t()},handleEdit:function(t,e){var a=this;Object(l.d)(e.id).then(function(t){a.form=t.data,a.dialogFormVisible=!0,a.dialogStatus="update",a.title="修改标签"})},update:function(t){var e=this;this.$refs[t].validate(function(a){if(!a)return!1;Object(l.f)(e.form.id,e.form).then(function(){e.cancel(t),e.getList(),e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})})})},handleDelete:function(t,e){var a=this;this.$confirm("是否刪除该记录？","记录",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(l.b)(e.id).then(function(){a.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3}),a.getList()})})},toCreate:function(){this.resetTemp(),this.dialogFormVisible=!0,this.dialogStatus="create",this.title="新增标签"},create:function(t){var e=this;this.$refs[t].validate(function(a){if(!a)return!1;Object(l.a)(e.form).then(function(){e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3}),e.cancel(t),e.getList()})})},handleSizeChange:function(t){this.listQuery.pageSize=t,this.getList()},handleCurrentChange:function(t){this.listQuery.page=t,this.getList()}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"tag"}},[a("el-card",[a("div",{attrs:{id:"query"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-input",{staticStyle:{width:"96%"},attrs:{placeholder:"请输入标签名称"},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}})],1),t._v(" "),a("el-col",{attrs:{span:16}},[a("el-button-group",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.queryList()}}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.toCreate()}}},[t._v("新增")])],1)],1)],1)],1),t._v(" "),a("el-table",{staticClass:"system-table",staticStyle:{width:"100%"},attrs:{data:t.list,"highlight-current-row":!0}},[a("el-table-column",{attrs:{align:"center",label:"序号",type:"index",width:"90"}}),t._v(" "),a("el-table-column",{attrs:{label:"类别名称",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.tagName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"是否显示"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.enabled?a("span",{staticStyle:{"margin-left":"10px"}},[a("el-tag",{attrs:{type:"success"}},[t._v("显示")])],1):a("span",{staticStyle:{"margin-left":"10px"}},[a("el-tag",{attrs:{type:"error"}},[t._v("隐藏")])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"类型"},scopedSlots:t._u([{key:"default",fn:function(e){return["L"===e.row.tagType?a("span",{staticStyle:{"margin-left":"10px"}},[a("el-tag",{attrs:{type:"success"}},[t._v("标签")])],1):t._e(),t._v(" "),"C"===e.row.tagType?a("span",{staticStyle:{"margin-left":"10px"}},[a("el-tag",{attrs:{type:"error"}},[t._v("分类")])],1):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"显示顺序"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.sort))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"备注"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.note))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":t.listQuery.page,"page-sizes":[10,20,30,50],"page-size":t.listQuery.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.$set(t.listQuery,"page",e)}}})],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogFormVisible,"before-close":t.handleClose,width:"40%",title:t.title},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,inline:!0,rules:t.rules,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"标签名称",prop:"tagName"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.form.tagName,callback:function(e){t.$set(t.form,"tagName",e)},expression:"form.tagName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否启用",prop:"enabled"}},[a("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:t.form.enabled,callback:function(e){t.$set(t.form,"enabled",e)},expression:"form.enabled"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-input",{model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"类别",prop:"tagType"}},[a("el-select",{attrs:{placeholder:"请选择类型"},model:{value:t.form.tagType,callback:function(e){t.$set(t.form,"tagType",e)},expression:"form.tagType"}},t._l(t.tagTypes,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"note"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5},placeholder:"请输入备注"},model:{value:t.form.note,callback:function(e){t.$set(t.form,"note",e)},expression:"form.note"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.cancel("form")}}},[t._v("取 消")]),t._v(" "),"create"==t.dialogStatus?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.create("form")}}},[t._v("确 定")]):a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.update("form")}}},[t._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]},r=a("VU/8")(n,i,!1,null,null,null);e.default=r.exports},glla:function(t,e,a){"use strict";e.e=function(t){return Object(l.a)({url:"/admin/blog/tag/page",method:"get",params:t})},e.c=function(t){return Object(l.a)({url:"/admin/blog/tag/all",method:"get",params:t})},e.a=function(t){return Object(l.a)({url:"/admin/blog/tag/add",method:"post",data:t})},e.d=function(t){return Object(l.a)({url:"/admin/blog/tag/get/"+t,method:"get"})},e.b=function(t){return Object(l.a)({url:"/admin/blog/tag/delete/"+t,method:"delete"})},e.f=function(t,e){return Object(l.a)({url:"/admin/blog/tag/put/"+t,method:"put",data:e})};var l=a("vLgD")}});